<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="resources/defaultTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pm="http://primefaces.org/mobile"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">
        title
    </ui:define>
    <ui:define name="content">  
        <f:event type="javax.faces.event.PreRenderViewEvent" listener="#{interactionMBean.checkEdition(param.idEntreprise)}"/>
        <pm:field>

            <h:form>
                <h1><h:outputText value="Create/Edit"/></h1>
                <h:panelGrid columns="2" bgcolor="#eff5fa">
                    <h:outputLabel value="contenu :" for="contenu" />
                    <h:inputText id="nom" value="#{interactionMBean.actuel.contenu}" title="contenu"/>

                    <h:outputLabel value="date :" for="date" />                    
                    <h:inputText value="#{interactionMBean.actuel.dateInteraction}">
                        <f:convertDateTime pattern="dd/mm/yyyy" />
                    </h:inputText>

                    <h:outputLabel value="lieu :" for="lieu" />                    
                    <h:inputText value="#{interactionMBean.actuel.lieu}">
                    </h:inputText>

                    <h:outputLabel value="participants :" for="participants" />                    
                    <h:inputText value="#{interactionMBean.actuel.participants}">

                    </h:inputText>


                    <h:outputLabel value="Entreprise :" for="idEntreprise" > 



                    </h:outputLabel>
                    <h:outputLabel value="#{entrepriseMBean.getEntreprise(param.idEntreprise).nom}" >


                    </h:outputLabel>
                    <h:outputLabel value="#{interactionMBean.actuel.entreprise = entrepriseMBean.getEntreprise(param.idEntreprise)}" >

                    </h:outputLabel>


                    <h:selectOneMenu value="#{interactionMBean.actuel.type}" >
                        <f:selectItems value="#{interactionMBean.listeType}" />
                    </h:selectOneMenu>

                    <h:commandButton id="back" value="Back" immediate="true" action="#{interactionMBean.saveMe()}"/>
                    <h:commandButton  id="Submit" value="Submit"  action="#{interactionMBean.saveMe()}"/>

                </h:panelGrid>
            </h:form>

        </pm:field>





    </ui:define>
</ui:composition>
